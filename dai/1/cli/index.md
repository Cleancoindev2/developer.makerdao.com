---
layout: default
title: Dai
subtitle: CLI
dai-tub: 0xf24888d405776cc56d29e70448172380708bb7a5
dai-top: 0xf24888d405776cc56d29e70448172380708bb7a5
---

## Collateral vault

TODO - diagram

Pooled collateral is represented by a token `PETH` which has a variable supply. which is the mechanism by which surpluses generated by the system are realised. Surpluses are paid by burning `PETH` causing its value to rise proportional to pooled collateral. If `PETH` has to be issued to cover forced liquidations the value of the claim can also fall during times of volatility. Over time a well managed system is expected to accumulate surplus which will be earned by `PETH` holders.

Anyone can deposit `ETH` to the pool via `join`, and withdraw `ETH` via `exit`. Pooled `ETH` is represented by `PETH` which is minted on `join` and burned on `exit`, representing a proportional claim on pooled collateral.

#### Join

Join the collateral pool by depositing ETH to the vault. Receive PETH, a claim on the deposited `ETH` in return.

{% capture seth-cli %}
  $ seth send "{{ page.dai-tub }}" "join(uint256)" "10.0"
{% endcapture %}

{% capture dai-cli %}
  $ dai join 10.0
{% endcapture %}

{% include tabs.html id=1 seth=seth-cli dai=dai-cli %}

#### Exit

Withdraw collateral by returning `PETH` to the vault in exchange for the proportional amount of `ETH`. Will return more or less `ETH` tokens for each `PETH` than at `join` depending whether the system made a profit or loss over the lifetime of the collateral deposited to the pool.

{% capture seth-cli %}
  $ seth send "{{ page.dai-tub }}" "exit(uint256)" "10.0"
{% endcapture %}

{% capture dai-cli %}
  $ dai exit 10.0
{% endcapture %}

{% include tabs.html id=2 seth=seth-cli dai=dai-cli %}

## Collateralized debt

TODO - diagram

New `dai` is issued

Pooled collateral `PETH` can be locked up and used to borrow `DAI` in records known as CDPs (Collateralized Debt Positions). A CDP - Collateralized Debt Position (`cup`), allows pooled ETH to be used as collateral for issuance of new DAI.

#### Open

Open an empty position.

{% capture seth-cli %}
  $ seth send "{{ page.dai-tub }}" "open()"
{% endcapture %}

{% capture dai-cli %}
  $ dai open
{% endcapture %}

{% include tabs.html id=3 seth=seth-cli dai=dai-cli %}

#### Give

Transfer a CDP to a different owner.

{% capture seth-cli %}
  $ seth send "{{ page.dai-tub }}" "give(bytes32,address)" "<cup-id>" "<new-owner-address>"
{% endcapture %}

{% capture dai-cli %}
  $ dai --cup=<id> give <address>
{% endcapture %}

{% include tabs.html id=4 seth=seth-cli dai=dai-cli %}

#### Lock

Add `PETH` collateral to a CDP.

{% capture seth-cli %}
  $ seth send "{{ page.dai-tub }}" "lock(bytes32,uint256)" "<cup-id>" "<amount-in-skr>"
{% endcapture %}

{% capture dai-cli %}
  $ dai --cup=<id> lock <amount-in-skr>
{% endcapture %}

{% include tabs.html id=5 seth=seth-cli dai=dai-cli %}

#### Free

Transfer a CDP to a different owner.

{% capture seth-cli %}
  $ seth send "{{ page.dai-tub }}" "free(bytes32,uint256)" "<cup-id>" "<amount-in-skr>"
{% endcapture %}

{% capture dai-cli %}
  $ dai --cup=<id> free <amount-in-skr>
{% endcapture %}

{% include tabs.html id=6 seth=seth-cli dai=dai-cli %}

#### Draw

Issue a specified amount of `dai`

{% capture seth-cli %}
  $ seth send "{{ page.dai-tub }}" "draw(bytes32,uint256)" "<cup-id>" "<amount-in-dai>"
{% endcapture %}

{% capture dai-cli %}
  $ dai --cup=<id> draw <amount-in-dai>
{% endcapture %}

{% include tabs.html id=7 seth=seth-cli dai=dai-cli %}

#### Wipe

Repay some portion of oustanding `dai` debt.

{% capture seth-cli %}
  $ seth send "{{ page.dai-tub }}" "wipe(bytes32,uint256)" "<cup-id>" "<amount-in-dai>"
{% endcapture %}

{% capture dai-cli %}
  $ dai --cup=<id> wipe <amount-in-dai>
{% endcapture %}

{% include tabs.html id=8 seth=seth-cli dai=dai-cli %}

#### Shut

Close a CDP.

{% capture seth-cli %}
  $ seth send "{{ page.dai-tub }}" "shut(bytes32)" "<cup-id>"
{% endcapture %}

{% capture dai-cli %}
  $ dai --cup=<id> shut
{% endcapture %}

{% include tabs.html id=9 seth=seth-cli dai=dai-cli %}

## Liquidation Market

TODO - description & diagram

#### Bite

Liquidate a vunerable CDP.

{% capture seth-cli %}
  $ seth send "{{ page.dai-tub }}" "bite(bytes32)" "<cup-id>"
{% endcapture %}

{% capture dai-cli %}
  $ dai --cup=<id> bite
{% endcapture %}

{% include tabs.html id=10 seth=seth-cli dai=dai-cli %}

#### Boom

Buy `dai` when the system is in surplus.

{% capture seth-cli %}
  $ seth send "{{ page.dai-tub }}" "boom(uint256)" "<amount-in-skr>"
{% endcapture %}

{% capture dai-cli %}
  $ dai boom <amount-in-skr>
{% endcapture %}

{% include tabs.html id=11 seth=seth-cli dai=dai-cli %}

#### Bust

Sell `dai` when the system is in deficit.

{% capture seth-cli %}
  $ seth send "{{ page.dai-tub }}" "bust(uint256)" "<amount-in-skr>"
{% endcapture %}

{% capture dai-cli %}
  $ dai boom <amount-in-skr>
{% endcapture %}

{% include tabs.html id=12 seth=seth-cli dai=dai-cli %}

## Global Settlement

TODO - description & diagram

#### Cage

Lock the system and initiate settlement.

{% capture seth-cli %}
  $ seth send "{{ page.dai-top }}" "cage(uint256)" "<final-price>"
{% endcapture %}

{% capture dai-cli %}
  $ dai cage [<final-price>]
{% endcapture %}

{% include tabs.html id=13 seth=seth-cli dai=dai-cli %}

#### Cash

Cash in `dai` balance for ETH after `cage`.

{% capture seth-cli %}
  $ seth send "{{ page.dai-top }}" "cash(uint256)" "<dai-balance>"
{% endcapture %}

{% capture dai-cli %}
  $ dai cash
{% endcapture %}

{% include tabs.html id=14 seth=seth-cli dai=dai-cli %}
